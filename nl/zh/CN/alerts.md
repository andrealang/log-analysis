---

copyright:
  years:  2018, 2019
lastupdated: "2019-03-06"

keywords: LogDNA, IBM, Log Analysis, logging, alerts

subcollection: LogDNA

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

 
# 使用警报
{: #alerts}

您可以将一个或多个警报连接到视图，为一个警报定义多个通知通道，针对警报禁用通知，还可以从视图拆离警报。
{:shortdesc}

可以为警报配置以下任何条件：

* *时间频率*：指定触发警报的频率。有效值为：30 秒、1 分钟、5 分钟、15 分钟、30 分钟、1 小时、6 小时、12 小时和 24 小时
* *日志行计数器*：指定与视图的过滤和搜索条件相匹配的日志行数。达到该日志行数时，将触发警报。

您可以决定是同时检查这两个条件，还是只检查其中一个条件。如果同时设置了这两个条件，那么将在达到任一阈值时触发警报。 

例如，可以将警报配置为在 30 秒后触发，或者在收集了与视图的过滤和搜索条件相匹配的 100 个日志行时触发。

可以配置多个通知通道。有效通道为：`电子邮件`、`Slack`、`PagerDuty`、`Webhook`、`OpsGenie`、`Datadog`、`AppOptics` 和 `VictorOps`

您还可以定义**预设**。预设是可以连接到任意数量的视图的警报模板。 

要将警报配置复用于不同的视图，请配置**警报预设**。
{: tip}

这将在视图中显示一个钟状图标，以指示此视图已连接警报。



## 配置预设（警报模板）
{: #config_preset}

要配置预设，请完成以下步骤：

1. 选择**配置**图标 ![“配置”图标](images/admin.png "“管理员”图标")。
2. 选择**警报**。
3. 选择**添加预设警报**。
4. 选择通知通道。 
5. 定义阈值条件。

    1. 选择时间频率。例如，12 小时。

    2. 输入您希望在触发警报之前达到的日志行数。

    3. 选择是要同时检查这两个条件，还是仅检查其中一个条件。

6. 添加所选通知通道的详细信息。

    例如，对于电子邮件通知通道，添加一个或多个收件人，还可选择添加时区。

7. 单击**保存警报**。



## 使用预设配置警报
{: #config_alert_preset}

要将预设连接到视图，请完成以下步骤：

1. 单击**视图**图标 ![“配置”图标](images/views.png)。
2. 创建视图。 

    应用时间范围、过滤和搜索条件，以过滤通过视图显示的日志行。 

    有关更多信息，请参阅[创建视图](/docs/services/Log-Analysis-with-LogDNA?topic=LogDNA-view_logs#view_logs_step7)。

3. 单击视图名称。然后，选择**连接警报**。

4. 选择预设以复用警报定义。 

5. 单击**保存警报**。 




## 配置特定于视图的警报
{: #config_alert_view}

要将警报连接到视图，请完成以下步骤：

1. 单击**视图**图标 ![“配置”图标](images/views.png)。
2. 创建视图。 

    应用时间范围、过滤和搜索条件，以过滤通过视图显示的日志行。 

    有关更多信息，请参阅[创建视图](/docs/services/Log-Analysis-with-LogDNA?topic=LogDNA-view_logs#view_logs_step7)。

3. 单击视图名称。然后，选择**连接警报**。

4. 选择**特定于视图的警报**。

5. 选择通知通道。 

6. 定义阈值条件。

    1. 选择时间频率。例如，12 小时。

    2. 输入您希望在触发警报之前达到的日志行数。

    3. 选择是要同时检查这两个条件，还是仅检查其中一个条件。

7. 添加所选通知通道的详细信息。

    例如，对于电子邮件通知通道，添加一个或多个收件人，还可选择添加时区。

8. 单击**保存警报**。



## 删除预设（警报模板）
{: #delete_preset}

要删除预设，请完成以下步骤：

1. 选择**配置**图标 ![“配置”图标](images/admin.png "“管理员”图标")。
2. 选择**警报**。
3. 将鼠标悬停在要删除的预设的*编辑*按钮上。这将显示*删除*选项。
4. 选择**删除**。
5. 确认要删除该预设。单击**删除**。

## 从视图拆离特定于视图的警报
{: #delete_alert}

要拆离预设，请完成以下步骤：

1. 选择**配置**图标 ![“配置”图标](images/admin.png "“管理员”图标")。
2. 选择**警报**。
3. 将鼠标悬停在要删除的警报的*编辑*按钮上。这将显示*删除*选项。
4. 选择**拆离**。
5. 确认要删除该警报。单击**拆离**。



## 通知通道
{: #channels}

下表列出了触发警报时可以配置的通知通道：

|通道|配置详细信息| 
|-------------------|-----------------------|
|`电子邮件`|可以配置一个或多个电子邮件地址。| 
|`Slack`|可以配置 Slack 通道。|
|`Webhook`|可以配置 Webhook URL。|
|`PagerDuty`|可以配置 PagerDuty 系统的连接详细信息，然后选择服务。|
|`OpsGenie`|可以配置 API 密钥以连接到 OpsGenie 系统。|
|`Datadog`|可以配置 API 密钥以连接到 `Datadog` 系统。|
|`AppOptics/Librato`|可以配置 API 密钥以连接到 AppOptics/Librato 系统。|
|`VictorOps`|可以配置要在触发警报时通知的 URL、路由键和警报类型。有效警报类型为：`info`、`warning` 和 `critical` |
{: caption="通知通道" caption-side="top"} 


