---

copyright:
  years:  2018, 2019
lastupdated: "2019-03-06"

keywords: LogDNA, IBM, Log Analysis, logging, alerts

subcollection: LogDNA

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

 
# アラートの処理
{: #alerts}

1 つのビューに 1 つ以上のアラートをアタッチできます。 1 つのアラートについて複数の通知チャネルを定義できます。 アラートをミュートすることができます。 アラートをビューからデタッチできます。
{:shortdesc}

アラートに対して、以下の条件をどれでも構成できます。

* *時間頻度*: アラートをトリガーする頻度を指定します。 有効な値は、30 秒、1 分、5 分、15 分、30 分、1 時間、6 時間、12 時間、24 時間です
* *ログ行カウンター*: ビューのフィルターと検索基準に一致するログ行の数を指定します。 このログ行の数に達すると、アラートがトリガーされます。

両方の条件とも検査するか、一方の条件のみにするかを決めることができます。 両方の条件とも設定した場合は、いずれかのしきい値に達するとアラートがトリガーされます。 

例えば、30 秒後か、またはビューのフィルターと検索基準に一致するログ行が 100 行収集されると、アラートがトリガーされるように構成できます。

複数の通知チャネルを構成できます。 有効なチャネルは、`email`、`Slack`、`PagerDuty`、`Webhook`、`OpsGenie`、`Datadog`、`AppOptics`、`VictorOps` です

**事前設定**も定義できます。 事前設定とは、任意の数のビューにアタッチできるアラート・テンプレートのことです。 

さまざまなビューと共にアラート構成を再利用するには、**アラートの事前設定**を構成します。
{: tip}

ビューと共にベルのアイコンが表示されると、このビューにアラートがアタッチされていることを示しています。



## 事前設定 (アラート・テンプレート) の構成
{: #config_preset}

事前設定を構成するには、以下のステップを実行します。

1. **「構成」**アイコン ![構成アイコン](images/admin.png "管理アイコン") を選択します。
2. **「アラート (Alerts)」**を選択します。
3. **「事前設定アラートの追加 (Add a preset alert)」**を選択します。
4. 通知チャネルを選択します。 
5. しきい値条件を定義します。

    1. 時間頻度を選択します。 例えば、12 時間を選択します。

    2. アラートのトリガーまでに要するログ行の数を入力します。

    3. 両方の条件とも検査するか、一方だけにするかを選択します。

6. 選択した通知チャネルに関する詳細情報を追加します。

    例えば、E メール通知チャネルの場合、1 つ以上の宛先と、オプションでタイム・ゾーンを追加します。

7. **「アラートの保存 (Save alert)」**をクリックします。



## 事前設定を使用したアラートの構成
{: #config_alert_preset}

ビューに事前設定をアタッチするには、以下のステップを実行します。

1. **「ビュー」**アイコン ![構成アイコン](images/views.png) をクリックします。
2. ビューを作成します。 

    時間フレーム、フィルター、検索基準を適用して、ビューで表示されるログ行をフィルター処理します。 

    詳しくは、[ビューの作成](/docs/services/Log-Analysis-with-LogDNA?topic=LogDNA-view_logs#view_logs_step7)を参照してください。

3. ビュー名をクリックします。 次に、**「アラートのアタッチ (Attach an alert)」**を選択します。

4. 事前設定を選択してアラート定義を再利用します。 

5. **「アラートの保存 (Save alert)」**をクリックします。 




## ビュー固有アラートの構成
{: #config_alert_view}

ビューにアラートをアタッチするには、以下のステップを実行します。

1. **「ビュー」**アイコン ![構成アイコン](images/views.png) をクリックします。
2. ビューを作成します。 

    時間フレーム、フィルター、検索基準を適用して、ビューで表示されるログ行をフィルター処理します。 

    詳しくは、[ビューの作成](/docs/services/Log-Analysis-with-LogDNA?topic=LogDNA-view_logs#view_logs_step7)を参照してください。

3. ビュー名をクリックします。 次に、**「アラートのアタッチ (Attach an alert)」**を選択します。

4. **「ビューに固有のアラート (view-specific alert)」**をクリックします。

5. 通知チャネルを選択します。 

6. しきい値条件を定義します。

    1. 時間頻度を選択します。 例えば、12 時間を選択します。

    2. アラートのトリガーまでに要するログ行の数を入力します。

    3. 両方の条件とも検査するか、一方だけにするかを選択します。

7. 選択した通知チャネルに関する詳細情報を追加します。

    例えば、E メール通知チャネルの場合、1 つ以上の宛先と、オプションでタイム・ゾーンを追加します。

8. **「アラートの保存 (Save alert)」**をクリックします。



## 事前設定 (アラート・テンプレート) の削除
{: #delete_preset}

事前設定を削除するには、以下のステップを実行します。

1. **「構成」**アイコン ![構成アイコン](images/admin.png "管理アイコン") を選択します。
2. **「アラート (Alerts)」**を選択します。
3. 削除しようとしている事前設定の*「編集」*ボタンの上にマウスを移動します。 *「削除」*オプションが表示されます。
4. **「削除」**を選択します。
5. 事前設定を削除することを確認します。 **「削除」**をクリックします。

## ビューからのビュー固有アラートのデタッチ
{: #delete_alert}

事前設定をデタッチするには、以下のステップを実行します。

1. **「構成」**アイコン ![構成アイコン](images/admin.png "管理アイコン") を選択します。
2. **「アラート (Alerts)」**を選択します。
3. 削除しようとしているアラートの*「編集」*ボタンの上にマウスを移動します。 *「削除」*オプションが表示されます。
4. **「デタッチ」**を選択します。
5. アラートを削除することを確認します。 **「デタッチ」**をクリックします。



## 通知チャネル
{: #channels}

以下の表に、アラートがトリガーされる時点を構成できる通知チャネルをリストします。

| チャネル           | 構成の詳細 | 
|-------------------|-----------------------|
| `email`             | 1 つ以上の E メール・アドレスを構成できます。  | 
| `Slack`             | Slack チャネルを構成できます。 |
| `Webhook`           | Webhook URL を構成できます。 |
| `PagerDuty`         | PagerDuty システムへの接続の詳細を構成し、サービスを選択できます。|
| `OpsGenie`          | OpsGenie システムに接続するように API 鍵を構成できます。 |
| `Datadog`           | `Datadog` システムに接続するように API 鍵を構成できます。 |
| `AppOptics/Librato` | AppOptics/Librato システムに接続するように API 鍵を構成できます。 |
| `VictorOps`         | アラートがトリガーされる時点、ルーティング・キー、アラートのタイプを通知するように URL を構成できます。 有効なアラートのタイプは `info`、`warning`、`critical` です |
{: caption="通知チャネル" caption-side="top"} 


