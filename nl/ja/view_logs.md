---

copyright:
  years:  2018, 2019
lastupdated: "2019-03-06"

keywords: LogDNA, IBM, Log Analysis, logging, logs

subcollection: LogDNA

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

# ログの表示
{: #view_logs}

{{site.data.keyword.la_full_notm}} サービスのインスタンスを {{site.data.keyword.cloud_notm}} にプロビジョンし、ログ・ソース用の LogDNA エージェントを構成したら、{{site.data.keyword.la_full_notm}} Web UI を使用してログ・データを表示、モニター、管理できるようになります。
{:shortdesc}

{{site.data.keyword.la_full_notm}} Web UI を起動すると、事前定義フォーマットを使用してログ項目が表示されます。 **「ユーザー設定」**セクションで、各ログ行の情報の表示形態を変更できます。 ログをフィルタリングし、検索設定を変更して、結果に*ビュー* のブックマークを付けることもできます。 ビューに 1 つ以上のアラートをアタッチしたりデタッチしたりできます。 ビューでの行の表示形態に応じて、カスタム・フォーマットを定義できます。 ログ行を展開し、解析されたデータを調べることができます。


ログを表示するには、以下のステップを実行します。


## ステップ 1. ログを表示するための IAM ポリシーをユーザーに付与する
{: #view_logs_step1}

**注:** 他のユーザーにポリシーを付与するには、{{site.data.keyword.la_full_notm}} サービスの管理者または {{site.data.keyword.la_full_notm}} インスタンスの管理者であるか、アカウントの IAM 権限が必要です。

次の表は、{{site.data.keyword.la_full_notm}} Web UI を起動してログを表示するためにユーザーに必要な最小限のポリシーをリストしたものです。

| サービス                        | 役割                      | 付与される許可            |
|--------------------------------|---------------------------|-------------------------------|  
| `{{site.data.keyword.la_full_notm}} ` | プラットフォーム役割: ビューアー     | ユーザーが「プログラム識別情報ロギング (Observability Logging)」ダッシュボードでサービス・インスタンスのリストを表示できるようにします。 |
| `{{site.data.keyword.la_full_notm}} ` | サービス役割: リーダー      | ユーザーが Web UI を起動して Web UI にログを表示できるようにします。  |
{: caption="表 1. IAM ポリシー" caption-side="top"} 

ユーザーに対してこれらのポリシーを構成する方法について詳しくは、[LogDNA でのログの表示許可をユーザーに付与する](/docs/services/Log-Analysis-with-LogDNA?topic=LogDNA-work_iam#user_logdna)を参照してください。


## ステップ 2. {{site.data.keyword.cloud_notm}} UI で Web UI にナビゲートする
{: #view_logs_step2}

{{site.data.keyword.cloud_notm}} UI で {{site.data.keyword.la_full_notm}} UI を起動するには、以下のステップを実行します。

1. {{site.data.keyword.cloud_notm}} アカウントにログインします。

    [{{site.data.keyword.cloud_notm}} ダッシュボード ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](https://cloud.ibm.com/login){:new_window} をクリックして、{{site.data.keyword.cloud_notm}} ダッシュボードを起動します。

	ユーザー ID とパスワードを使用してログインすると、{{site.data.keyword.cloud_notm}} *ダッシュボード* が開きます。

2. ナビゲーション・メニューで、**「プログラム識別情報」**を選択します。 

3. **「ロギング」**を選択します。 

    {{site.data.keyword.cloud_notm}} で使用可能な {{site.data.keyword.la_full_notm}} インスタンスのリストが表示されます。

4. インスタンスを 1 つ選択します。 次に、**「LogDNA の表示 (View LogDNA)」**をクリックします。

{{site.data.keyword.la_full_notm}} Web UI が開き、そのインスタンスに転送されたログが表示されます。


## ステップ 3. デフォルト・ビューをカスタマイズする
{: #view_logs_step3}

**「ユーザー設定」**セクションで、行単位で表示されるデータ・フィールドの順序を変更できます。

ログ行のフォーマットを変更するには、以下のステップを実行します。

1. **「構成」**アイコン ![構成アイコン](images/admin.png "管理アイコン") を選択します。
2. **「ユーザー設定」**を選択します。 新しいウィンドウが開きます。
3. **「ログ・フォーマット (Log Format)」**を選択します。
4. *要件に合わせて「行フォーマット (Line Format)」*セクションを変更します。 ボックスをドラッグします。


## ステップ 4. ログ行を調べる
{: #view_logs_step4}

コンテキスト内の各ログ行を随時表示できます。

以下のステップを実行します。 

1. **「ビュー」**アイコン ![構成アイコン](images/views.png "構成アイコン") をクリックします。
2. **「すべて (Everything)」**または 1 つのビューを選択します。
3. ログの中の調べる行を特定します。
4. ログ行を展開します。 

    行 ID、タグ、およびラベルに関する情報が表示されます。

5. **「コンテキスト内のビュー (View in Context)」**をクリックすると、そのホストまたはアプリ、あるいはその両方からの他のログ行のコンテキスト内のログ行が表示されます。

6. **「クリップボードにコピー」**をクリックすると、メッセージ・フィールドがクリップボードにコピーされます。

完了したら、行を閉じます。


## ステップ 5. ログをフィルタリングする
{: #view_logs_step5}

ログ・ソース、アプリケーション、およびログ・レベルでログをフィルタリングできます。 

* ソースとして、ホスト、コンピューター、仮想マシン、または Heroku アプリを指定できます。
* アプリケーションは、ログ・ファイル、プログラム、またはコンテナーを意味します。
* ログ・レベルの例としては、INFO、DEBUG、ERROR があります。

ログをフィルタリングするには、以下のステップを実行します。

1. **「ビュー」**アイコン ![構成アイコン](images/views.png "構成アイコン") をクリックします。
2. **「すべて (Everything)」**または 1 つのビューを選択します。
3. **「すべてのタグ (All Tags)」**を展開すると、ログ内で識別されたタグのリストが表示されます。 その後、目的のものを選択します。
4. **「すべてのソース (All Sources)」**を展開すると、ログ内で識別されたログ・ソースのリストが表示されます。 その後、目的のものを選択します。
5. **「すべてのアプリ」**を展開すると、ログ内で識別されたアプリのリストが表示されます。 その後、目的のものを選択します。
6. **「すべてのレベル (All Levels)」**を展開すると、ログ内で識別されたログ・レベルのリストが表示されます。 その後、目的のものを選択します。


**注:** 各セクションで、複数のオプションを 1 つのグループにまとめることができます。 タグ、ログ・ソース、アプリ、ログ・レベルをグループ化して、他のカスタム・ビューでログ・データをフィルタリングするときに、これらのグループを再利用してください。

グループを作成するには、複数の値を選択します。 次に、**「グループとして保存 (Save as group)」**をクリックします。 グループの名前を入力し、保存します。


## ステップ 6. ログを検索する
{: #view_logs_step6}

ログ・データを検索するとき、そのビューで構成されたログ・フィルターと時間照会が検索で適用されます。

単純検索 (単一語ストリング検索)、複合検索 (複数の検索語と演算子)、フィールド検索 (ログ行を解析できる場合) などを行えます。 詳しくは、[LogDNA 資料の「How to Search Logs」 ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](https://docs.logdna.com/docs/search){:new_window} を参照してください。

**注:** AND 演算子と OR 演算子は大/小文字が区別されるため、大文字にする必要があります。



## ステップ 7. ビューを作成する
{: #view_logs_step7}


ビューを作成するには、以下のステップを実行します。

1. **「ビュー」**アイコン ![構成アイコン](images/views.png "構成アイコン") をクリックします。
2. **「すべて (Everything)」**または 1 つのビューを選択します。
3. ログ・データをフィルタリングした後、**「新規ビュー/アラートとして保存 (Save as new view / alert)」**をクリックします。

    *「新規ビューの作成 (Create new view)」*ページが開きます。

4. *「名前」* フィールドにビューの名前を入力します。

5. 必要に応じて、カテゴリーを追加します。 名前を入力してから、**「これを新規ビューのカテゴリーとして追加 (Add this as new view category)」**をクリックします。

6. 必要に応じて、アラートをアタッチします。 アラートを構成するための新しいセクションが表示されます。

7. **「ビューを保存 (Save View)」**をクリックします。
